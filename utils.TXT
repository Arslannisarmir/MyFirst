utility functions for version new 3